<Window x:Class="SentryX.VideoPlayerWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="視頻播放器"
        Height="600" Width="800"
        MinHeight="400" MinWidth="600"
        WindowStartupLocation="CenterScreen"
        Topmost="True"
        Closing="Window_Closing">

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- 標題欄 -->
        <Border Grid.Row="0" Background="#2C3E50" Padding="10">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>

                <StackPanel Grid.Column="0" Orientation="Vertical">
                    <TextBlock Name="DeviceNameText" 
                               Text="設備名稱" 
                               Foreground="White" 
                               FontSize="16" 
                               FontWeight="Bold"/>
                    <TextBlock Name="ChannelInfoText" 
                               Text="通道資訊" 
                               Foreground="#BDC3C7" 
                               FontSize="12"/>
                </StackPanel>

                <StackPanel Grid.Column="1" Orientation="Horizontal">
                    <Button Name="IVSToggleButton" 
                            Content="🎯 IVS" 
                            Width="80" 
                            Margin="5,0"
                            Click="IVSToggleButton_Click"
                            ToolTip="切換智能規則顯示"/>

                    <Button Name="StreamToggleButton" 
                            Content="📺 主碼流" 
                            Width="100" 
                            Margin="5,0"
                            Click="StreamToggleButton_Click"
                            ToolTip="切換主/子碼流"/>

                    <Button Name="SnapshotButton" 
                            Content="📷 截圖" 
                            Width="80" 
                            Margin="5,0"
                            Click="SnapshotButton_Click"
                            ToolTip="保存當前畫面"/>
                </StackPanel>
            </Grid>
        </Border>

        <!-- 視頻顯示區域 -->
        <WindowsFormsHost Grid.Row="1" Name="VideoHost"/>

        <!-- 狀態欄 -->
        <StatusBar Grid.Row="2">
            <StatusBarItem>
                <TextBlock Name="StatusText" Text="準備就緒"/>
            </StatusBarItem>
            <Separator/>
            <StatusBarItem>
                <TextBlock Name="ResolutionText" Text="解析度: --"/>
            </StatusBarItem>
            <Separator/>
            <StatusBarItem>
                <TextBlock Name="BitrateText" Text="碼率: --"/>
            </StatusBarItem>
            <Separator/>
            <StatusBarItem>
                <TextBlock Name="FpsText" Text="FPS: --"/>
            </StatusBarItem>
        </StatusBar>
    </Grid>
</Window>